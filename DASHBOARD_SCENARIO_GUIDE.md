# 대시보드에서 시나리오 확인하는 방법

## 📋 현재 대시보드 상태

현재 대시보드는 **시뮬레이션 데이터**로 실행 중이며, 다음 기능들을 제공합니다:

### ✅ **현재 가능한 기능**

#### 1️⃣ **제어 패널에서 시나리오 시뮬레이션**
- **위치**: 🎛️ 제어 패널 탭
- **방법**:
  ```
  1. 대시보드 접속: http://localhost:8501
  2. "🎛️ 제어 패널" 탭 클릭
  3. 각 그룹별 제어 모드 선택:
     - 60Hz 고정: 고정 주파수 운전
     - AI 제어: 최적 주파수 자동 제어
  ```

#### 2️⃣ **긴급 정지 시나리오**
- **위치**: 사이드바
- **방법**:
  ```
  1. 사이드바에서 "🛑 긴급 정지" 버튼 클릭
  2. 30초 동안 점진적으로 60Hz로 전환되는 과정 관찰
  3. 알람 탭에서 CRITICAL 알람 확인
  4. "▶️ 긴급 정지 해제"로 정상 운전 재개
  ```

#### 3️⃣ **성능 모니터링**
- **위치**: 📈 성능 모니터링 탭
- **확인 가능 항목**:
  - 에너지 절감률 추이 (1시간)
  - 운전 시간 균등화
  - 장비별 운전 상태

#### 4️⃣ **알람 관리**
- **위치**: 🔔 알람 관리 탭
- **확인 가능 항목**:
  - CRITICAL (빨강): 긴급 상황
  - WARNING (노랑): 주의 상황
  - INFO (파랑): 정보 알림

#### 5️⃣ **학습 진행**
- **위치**: 📚 학습 진행 탭
- **확인 가능 항목**:
  - 온도 예측 정확도
  - 최적화 정확도
  - 에너지 절감률 개선
  - AI 진화 단계

---

## 🎯 **시나리오별 확인 방법**

### **방법 1: 터미널에서 시나리오 테스트 + 대시보드 동시 실행**

1. **터미널 1 - 대시보드 실행 (이미 실행 중)**
   ```bash
   streamlit run src/hmi/dashboard.py --server.port 8501
   ```

2. **터미널 2 - 시나리오 테스트**
   ```bash
   # 정상 운전
   python -c "from src.testing.test_framework import *; ..."

   # 또는 전체 시나리오
   python run_scenario_tests.py
   ```

3. **대시보드에서 결과 확인**
   - 브라우저: http://localhost:8501
   - 메인 대시보드에서 실시간 데이터 확인

### **방법 2: 통합 시스템으로 모든 시나리오 확인**

```bash
python run_integrated_system.py
```
- 5개 스레드 동작 (데이터 수집, AI 제어, 명령 전송, 학습, 리포트)
- 대시보드에서 실시간 모니터링

### **방법 3: 대시보드에서 수동 시나리오 생성**

#### 시나리오 1: 정상 운전
```
1. 제어 패널에서 모든 그룹을 "AI 제어"로 설정
2. 메인 대시보드에서 T5, T6 온도 확인
3. 성능 모니터링에서 에너지 절감률 확인
```

#### 시나리오 2: 고부하 운전 (수동 시뮬레이션)
```
1. 제어 패널에서 모든 그룹을 "60Hz 고정"으로 설정
2. 높은 전력 소비 확인
3. 다시 "AI 제어"로 전환하여 절감 효과 비교
```

#### 시나리오 3: 긴급 정지
```
1. 사이드바에서 "🛑 긴급 정지" 클릭
2. 30초 점진적 전환 과정 관찰
3. 알람 탭에서 CRITICAL 알람 확인
4. 주파수 편차 모니터링
5. "▶️ 긴급 정지 해제"로 복구
```

#### 시나리오 4: 주파수 편차 모니터링
```
1. 제어 패널 탭 열기
2. "목표 vs 실제 주파수" 테이블 확인
3. 편차 상태 색상 확인:
   - 🟢 Green: < 0.3Hz (정상)
   - 🟡 Yellow: 0.3-0.5Hz (주의)
   - 🔴 Red: ≥ 0.5Hz (경고)
```

---

## 📊 **각 탭별 확인 사항**

### 📊 **메인 대시보드**
- 실시간 센서 값 (T5, T6, PX1, 엔진 부하)
- 온도 트렌드 그래프 (10분)
- 에너지 절감률 게이지
- 장비 운전 상태

### 🎛️ **제어 패널**
- 그룹별 제어 모드 전환
- 목표 vs 실제 주파수
- 편차 상태 (Green/Yellow/Red)

### 📈 **성능 모니터링**
- 에너지 절감률 추이
- 운전 시간 균등화
- 장비별 효율

### 🔔 **알람 관리**
- CRITICAL/WARNING/INFO 알람
- 알람 확인 기능
- 시간순 정렬

### 📚 **학습 진행**
- 온도 예측 정확도
- 최적화 정확도
- 에너지 절감률 개선
- AI 진화 단계

---

## 🚀 **통합 실행 스크립트**

시나리오를 선택하여 실행하려면:

```bash
python run_dashboard_with_scenario.py
```

실행 후:
1. 시나리오 번호 선택 (1-4)
2. 대시보드 자동 실행
3. 브라우저에서 실시간 확인

---

## 💡 **팁**

1. **자동 새로고침**: 대시보드는 1초마다 자동 갱신
2. **여러 탭 활용**: 각 탭을 왔다갔다하며 비교
3. **긴급 정지 테스트**: 안전하게 여러 번 테스트 가능
4. **알람 확인**: 알람 탭에서 모든 이벤트 기록 확인

---

## 🔗 **관련 파일**

- 대시보드: `src/hmi/dashboard.py`
- 시나리오 테스트: `run_scenario_tests.py`
- 통합 실행: `run_dashboard_with_scenario.py`
- 테스트 프레임워크: `src/testing/test_framework.py`
